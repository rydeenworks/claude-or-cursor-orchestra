---
description: Development environment and toolchain configuration
globs: ["*.py", "pyproject.toml", "*.toml"]
alwaysApply: true
---

# Development Environment

Project development environment and toolchain.

## Package Management: uv

**Do not use pip directly. All commands must go through uv.**

```bash
# Add packages
uv add <package>
uv add --dev <package>    # Dev dependency

# Sync dependencies
uv sync

# Run scripts
uv run <command>
uv run python script.py
uv run pytest
```

## Linting & Formatting: ruff

```bash
# Check
uv run ruff check .

# Auto-fix
uv run ruff check --fix .

# Format
uv run ruff format .
```

## Type Checking: ty

```bash
# Run type check
uv run ty check src/
```

## Task Runner

```bash
# Quality check (all)
poe all

# Individual tasks
poe lint
poe typecheck
poe test
```

## Common Commands

```bash
# Initialize
uv init
uv venv
source .venv/bin/activate

# Install dev dependencies
uv sync --all-extras

# Quality check (all)
uv run ruff check . && uv run ruff format --check . && uv run ty check src/ && uv run pytest
```

## Pre-commit Checklist

- [ ] `uv run ruff check .` passes
- [ ] `uv run ruff format --check .` passes
- [ ] `uv run ty check src/` passes
- [ ] `uv run pytest` passes
